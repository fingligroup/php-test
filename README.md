# Fingli Group


## Тест для php-разработчиков

**Задание:** На основе фильтров [формы `#form-filter`][index] получить список деклараций с сайта [Федеральной службы по аккредитации][fsa] и вывести список в [таблицу `#declaration-list`][index], со всеми указанными в таблице полями.

> Выполнение задачи должно занять менее 4-х часов.

> [Сервис деклараций][fsa_decl] не имеет официального API, но API есть. Для доступа к API требуется авторизация (данные ниже).

1. Доработать форму:
    1. Добавить недостающие опции в поле "Статус";
    1. Добавить фильтр по номеру декларации о соответствии;
    1. Добавить фильтры по дате регистрации декларации "с" и "по";
    1. Добавить фильтры по дате окончания действия декларации "с" и "по";
    1. Добавить ограничение по запрашиваемому размеру списка деклараций (25/50/100);
    - Использовать стили [Bootstrap][bootstrap]
1. С помощью Ajax, отправить фильтры в формате json в [php-скрипт][ajax] текущего приложение;
1. На основе фильтров получить с сайта [список деклараций][fsa_decl];
    - Использовать [curl библиотеку][curl]
1. Вернуть ответ в формате json;
    - Ответ должен содержать статус получения списка и массив деклараций;
    - Объект декларации должен содержать только поля, указанные в таблице;
    - В случае возникновения ошибки, должен отправляться соответствующий http код, название и описание ошибки;
1. Вывести список деклараций.
    - Вместо `idStatus` в должно выводиться название статуса;
    - Используя базовые стили [Bootstrap][bootstrap], выделить строки цветом на основе статуса декларации;
    - В случае ошибки получения списка, вывести соответствующее сообщение с описанием ошибки;
1. Результатом выполнения задания должен быть новый репозиторий.


### Авторизация на сайте ФСА

```
POST: https://pub.fsa.gov.ru/login '{"username": "anonymous", "password": "hrgesf7HDR67Bd"}'
```


### Directory structure

```
app/            contains application files
public_html/    contains the entry script and Web resources
vendor/         contains dependent 3rd-party packages
```

[fsa]: https://fsa.gov.ru/
[fsa_decl]: https://pub.fsa.gov.ru/rds/declaration
[index]: public_html/index.php
[ajax]: public_html/ajax/index.php
[bootstrap]: https://getbootstrap.com/docs/5.2/getting-started/introduction/
[curl]: https://github.com/flankerspb/curl
